{% extends 'partials/base.html.twig' %}

{% set show_onpage_menu = header.onpage_menu == true or header.onpage_menu is null %}

{% block javascripts %}
{{ parent() }}
    {% if show_onpage_menu %}
        {% do assets.add('theme://js/singlepagenav.min.js') %}
    {% endif %}

    {% do assets.addJs('/user/plugins/shortcode-owl-carousel/js/owl.carousel.min.js') %}

    
{% endblock %}



{% block bottom %}
    {{ parent() }}
    {% if show_onpage_menu %}
        <script>
        // singlePageNav initialization & configuration
        $('ul.navigation').singlePageNav({
            offset: $('#header').outerHeight(),
            filter: ':not(.external)',
            updateHash: true,
            currentClass: 'active'
        });
        </script>
    {% endif %}
{% endblock %}


{% block hero %}
    {% for module in page.collection() if module.template == 'modular/hero' %}
        <div id="{{ module.menu|hyphenize }}"></div>
        {{ module.content|raw }}
    {% endfor %}
{% endblock %}

{% block body %}
    {{ page.content|raw }}
    {% for module in page.collection() %}
        <section class="custom-container {{module.header.showcase_bg_radius}}" style=" background-image: url('{{module.media[module.header.showcase_bg_img].url}}');">
        {{ module.content|raw }}
        </section>
    {% endfor %}
{% endblock %}


